(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/category"],{"0c93":function(t,i,a){},"3a8f":function(t,i,a){"use strict";(function(t){a("80e3");o(a("66fd"));var i=o(a("3d45"));function o(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,a("543d")["createPage"])},"3d45":function(t,i,a){"use strict";a.r(i);var o=a("b2f6"),e=a("79e4");for(var n in e)"default"!==n&&function(t){a.d(i,t,(function(){return e[t]}))}(n);a("b589");var s,c=a("f0c5"),r=Object(c["a"])(e["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);i["default"]=r.exports},"79e4":function(t,i,a){"use strict";a.r(i);var o=a("e5c2"),e=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(i,t,(function(){return o[t]}))}(n);i["default"]=e.a},b2f6:function(t,i,a){"use strict";var o,e=function(){var t=this,i=t.$createElement;t._self._c},n=[];a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){return o}))},b589:function(t,i,a){"use strict";var o=a("0c93"),e=a.n(o);e.a},e5c2:function(t,i,a){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=function(){a.e("node-modules/@dcloudio/uni-ui/lib/uni-fab/uni-fab").then(function(){return resolve(a("b63f"))}.bind(null,a)).catch(a.oe)},e={components:{uniFab:o},data:function(){return{modalName:null,current_item_info:null,supplier_id_radio:"",showEmpty:!1,showNoMore:!1,catList:getApp().globalData.cartList,tabCur:0,mainCur:0,verticalNavTop:0,load:!0,cart_item_id_list:getApp().globalData.cart_item_id_list,cartList:[],domain:getApp().globalData.domain,default_img:'this.src="'+a("4a51")+'"',directionStr:"垂直",horizontal:"right",vertical:"bottom",direction:"horizontal",pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#0b988f",buttonColor:"#0b988f"},content:[{iconPath:"/static/cart.png",selectedIconPath:"/static/cart.png",text:"物品篮",active:!0}],cateDetailAllList:[]}},onLoad:function(){t.showLoading({title:"加载中...",mask:!0}),this.cart_item_id_list=getApp().globalData.cart_list_info.map((function(t){return Object.assign({id:t.id})})),getApp().globalData.cart_item_id_list=this.cart_item_id_list},onShow:function(){this.loadData()},methods:{showModal:function(t){this.modalName="ChooseSupplierModal",this.current_item_info=t,console.log(t)},hideModal:function(t){this.modalName=null},onAdd:function(t){this.showModal(t)},onMinus:function(t){for(var i=0;i<getApp().globalData.cart_list_info.length;i++)if(getApp().globalData.cart_list_info[i].asset_name==t.asset_name)return getApp().globalData.cart_list_info.splice(i,1),this.showToast(t.asset_name+"成功从物品篮删除"),void console.log(getApp().globalData.cart_list_info);this.showToast("物品篮无 "+t.asset_name+"，无须删除"),console.log(getApp().globalData.cart_list_info)},trigger:function(i){console.log("trigger"),0===i.index&&t.navigateTo({url:"../cart/cart"})},successCb:function(i){if(t.hideLoading(),0===i.data.error){if(this.catList=i.data.msg.commoditycategory,console.log(this.catList),getApp().globalData.catList=this.cartList,this.catList.length>0&&(this.showNoMore=!0),0==this.catList.length)return void(this.showEmpty=!0);for(var a=0;a<this.catList.length;a++){var o=this.catList[a].asset_info.map((function(t,i,a){return Object.assign(t,{stock:i},{number:0})}));o.map((function(t){t.stock=parseInt(t.asset_count)})),this.cartList=o}this.listCur=this.catList[0],this.mainCur=this.catList[0].id}},failCb:function(i){t.hideLoading(),console.log("api_category failed",i)},completeCb:function(t){},loadData:function(){this.requestWithMethod(getApp().globalData.api_category,"GET","",this.successCb,this.failCb,this.completeCb)},TabSelect:function(t){this.tabCur=t.currentTarget.dataset.id,this.mainCur=t.currentTarget.dataset.id,this.verticalNavTop=50*(t.currentTarget.dataset.id-1)},VerticalMain:function(i){var a=this,o=0;if(this.load){for(var e=function(i){var e=t.createSelectorQuery().select("#main-"+a.catList[i].id);e.fields({size:!0},(function(t){a.catList[i].top=o,o+=t.height,a.catList[i].bottom=o})).exec()},n=0;n<this.catList.length;n++)e(n);this.load=!1}for(var s=i.detail.scrollTop+10,c=0;c<this.catList.length;c++)if(s>this.catList[c].top&&s<this.catList[c].bottom)return this.verticalNavTop=50*(this.catList[c].id-1),this.tabCur=this.catList[c].id,!1}}};i.default=e}).call(this,a("543d")["default"])}},[["3a8f","common/runtime","common/vendor"]]]);