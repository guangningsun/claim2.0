(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/user_info"],{"007e":function(t,e,a){"use strict";(function(t){a("80e3");n(a("66fd"));var e=n(a("816c"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"00eb":function(t,e,a){"use strict";var n,i=function(){var t=this,e=t.$createElement;t._self._c},s=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}))},"55f6":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{nickname:"",tel_num:"",user_name:"",apartment:"",address:"",apartment_picker_index:-1,apartment_picker:[],apartment_info_list:[],btn_disabled:!0,apartment_id:-1}},onLoad:function(){this.requestApartment(),this.tel_num=t.getStorageSync("key_phone_num")},methods:{requestApartment:function(){this.requestWithMethod(getApp().globalData.api_get_apartment_list,"GET","",this.successCb,this.failCb,this.completeCb)},successCb:function(t){if(0===t.data.error){this.apartment_info_list=t.data.msg.category_info,console.log(this.apartment_info_list);var e=this.apartment_picker;this.apartment_info_list.map((function(t){e.push(t.name)})),console.log("==apart=="),console.log(e)}},failCb:function(t){console.log("api_apartment_list failed",t)},completeCb:function(t){},apartPickerChange:function(t){this.apartment_picker_index=parseInt(t.detail.value),-1===this.apartment_picker_index?this.apartment_picker_index=0:this.apartment_picker_index=parseInt(t.detail.value),this.checkBtnEnable()},checkBtnEnable:function(){""==this.date||""==this.apartment_picker[this.apartment_picker_index]||void 0==this.apartment_picker[this.apartment_picker_index]||this.isEmpty(this.tel_num)||this.isEmpty(this.user_name)?this.btn_disabled=!0:this.btn_disabled=!1},onSubmit:function(){void 0!==this.apartment_picker[this.apartment_picker_index]&&(this.apartment=this.apartment_picker[this.apartment_picker_index]),t.showLoading({title:"正在提交信息"});var e=this.apartment_info_list[this.apartment_picker_index],a=e.id;this.apartment_id=a,t.setStorageSync("key_user_name",this.user_name);var n={openid:t.getStorageSync("key_wx_openid"),nickname:this.nickname,username:this.user_name,address:this.address,apartment:a};this.requestWithMethod(getApp().globalData.api_submit_user_info,"POST",n,this.successCallback,this.failCallback,this.completeCallback)},successCallback:function(e){t.hideLoading(),0===e.data.error&&(t.setStorageSync("key_cat",this.commoditycategory),t.showToast({title:"提交成功"}),t.navigateTo({url:"../category/category"}))},failCallback:function(e){t.hideLoading(),this.showToast(e),console.log("api_submit_user_info failed",e)},completeCallback:function(t){}}};e.default=a}).call(this,a("543d")["default"])},7188:function(t,e,a){"use strict";a.r(e);var n=a("55f6"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},"816c":function(t,e,a){"use strict";a.r(e);var n=a("00eb"),i=a("7188");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);var r,c=a("f0c5"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=o.exports}},[["007e","common/runtime","common/vendor"]]]);